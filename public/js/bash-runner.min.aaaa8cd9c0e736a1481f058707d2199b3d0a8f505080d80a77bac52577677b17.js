import BashWasm from"https://unpkg.com/bash-wasm@latest/dist/bash-wasm.js";let bashInstance=null;async function initBash(){return bashInstance||(bashInstance=await BashWasm.create()),bashInstance}async function runBash(e,t){const n=await initBash(),s=e.textContent.trim();try{const e=await n.runCommand(s);t.textContent=e}catch(e){t.textContent=`Erreur : ${e}`}}function setupBashBlocks(){document.querySelectorAll("pre code.language-bash").forEach(e=>{const n=document.createElement("div"),t=document.createElement("pre"),s=document.createElement("button");s.textContent="▶ Exécuter",s.style.margin="0.5em 0",t.classList.add("bash-output"),t.style.background="#111",t.style.color="#0f0",t.style.padding="0.5em";const o=e.parentNode;o.parentNode.insertBefore(n,o),n.appendChild(o),n.appendChild(s),n.appendChild(t),s.addEventListener("click",()=>runBash(e,t))})}document.addEventListener("DOMContentLoaded",setupBashBlocks)